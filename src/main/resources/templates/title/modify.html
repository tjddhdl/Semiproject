<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<form>

		<label>타이틀번호</label> <input type="number" name="tNo"
			th:value="${dto.getTNo}" readonly="readonly">
		<div class="form-group">
			<label>이름</label> <input type="text" class="form-control"
				name="titleName" th:value="${dto.getTitleName()}">
		</div>
		<div>
			<label>기종</label> <select name="model" id="model">
				<option th:each="modelName : ${modelNames}" th:value="${modelName}"
					th:text="${modelName}"
					th:selected="${modelName}==${dto.getModel()}"></option>
			</select>
		</div>
		<div>
			<label>장르</label> <select name="category" id="category">
				<option th:each="category : ${categories}" th:value="${category}"
					th:text="${category}"
					th:selected="${category}==${dto.getCategory()}"></option>
			</select>
		</div>
		<div>
			<label>가격</label><input type="number" name="price"
				th:value="${dto.getPrice()}">
		</div>
		<div>
			<label>연령제한</label><input type="number" name="ageRate"
				th:value="${dto.getAgeRate()}">
		</div>
		<div>
			<label>출시일</label><input type="date" name="releaseDate"
				th:value="${dto.getReleaseDate()}">
		</div>
		<div>
			<label>이미지경로</label><input type="text" name="image"
				th:value="${dto.getImage()}">
		</div>
		<div>
			<label>재고</label><input type="number" name="stock"
				th:value="${dto.getStock()}">
		</div>
	</form>
	<button type="button" class="modifybtn">수정</button>
	<button type="button" class="deletebtn">삭제</button>
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script th:inline="javascript">
		const modifybtn = $('.modifybtn');
		const deletebtn = $('.deletebtn');
		
		const form = $('form');
		modifybtn.click(()=>{
			if(confirm("수정하시겠습니까?")){
				form.attr('action','/title/modify')
				.attr('method','post')
				.submit();
			}else{
				return;
			}
		});
		
		deletebtn.click(()=>{
			if(confirm("삭제하시겠습니까?")){
				form.attr('action','/title/delete')
				.attr('method','post')
				.submit();
			}else{
				return;
			}
		});
		
		</script>
</body>
</html>